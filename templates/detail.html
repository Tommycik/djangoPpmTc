{% extends "base.html" %}
{% load static %}
{% block title %}{{object.title }}{% endblock title %}

{% block css %}
    <link rel="stylesheet" href="{% static 'detail.css' %}">
    <link rel="stylesheet" href="{% static 'base.css' %}">
{% endblock %}


{% block content %}
    <div class="recipe">
        <div class="imageWrapper">
            <span><img src="{{ object.image.url}}" alt="recipe photo"></span>
        </div>
        <h2>{{object.title}}</h2>
        <p>{{ object.description }}</p>
        <div class="preparation">
            <h4>Ingredients:</h4>
            <div class="list">
                <ul>
                    {% for ingredient in ingredients %}
                        <li>
                            <a href="{{ ingredient.ingredient.get_absolute_url }}">{{ ingredient.ingredient }}</a>
                            <p>{{ingredient.quantity}} {{ingredient.unit}}</p>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            <h4>Time to cook:</h4>
            <p class="time">{{ object.time}}min</p>
        </div>
        <h4>Categories:</h4>
        <div class="categories">
            <div class="list">
                <ul>
                    {% for category in categories %}
                        <li>
                            <a href="{{ category.get_absolute_url }}">{{ category.title }}</a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
            {% if user.is_authenticated and object.author == user %}
            <a class="subLog" href="/accounts/favourites/{{ object.pk }}" >favourite</a>
            <a class="subLog" href="/recipes/{{ object.pk }}/modify/">modify recipe</a>
            <a class="subLog" href="/recipes/{{ object.pk }}/delete/?next={{ request.path|urlencode}}">Delete recipe</a>
        {% elif user.is_authenticated%}
             <a class="subLog" href="/accounts/favourites/{{ object.pk }}" >favourite</a>
        {% endif %}
        </div>
        <h4>Steps:</h4>
        <div class="list">
                <ul>
                    {% for step in steps %}
                        <li>
                            <p>{{ step.description }}</p>
                        </li>
                    {% endfor %}
                </ul>

        </div>
        <h4>Cook:</h4>
        <a href="/recipes/{{ object.author}}/authorRecipes/">{{ object.author}}</a>
        <h4>Created:</h4>
        <p class="date">{{ object.date}}</p>
    </div>
{% endblock content %}